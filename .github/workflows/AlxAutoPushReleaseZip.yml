name: AlxAutoPushReleaseZip
on:
  push:
    branches:
      - main

jobs:
  zip-user-folder-to-release:
    runs-on: windows-latest
    steps:
      - name: delete existing zip
        if: ${{ hashFiles( github.event.repository.name ) != '' }}
        run: rm ${{github.event.repository.name}}.zip
      - name: create folder zip
        if: ${{ hashFiles( github.event.repository.name ) == '' }}
        run: |
          cd ${{ github.workspace }}
          zip -r ${{ github.event.repository.name }}.zip ${{ github.event.repository.name }} -x ".git/*" ".github/*" ".gitignore" "README.md"
